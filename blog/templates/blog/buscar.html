{% extends 'blog/base.html' %}

{% block contenido %}
    <h2>Buscar Post</h2>
    <form method="get">
        <label for="q">Buscar por título:</label>
        <input type="text" id="q" name="q" value="{{ request.GET.q }}">
        <button type="submit">Buscar</button>
    </form>

    {% if query %}
        <h3>Resultados:</h3>
        {% if resultados %}
            <ul>
                {% for post in resultados %}
                    <li>
                        <a href="{% url 'detalle_post' post.id %}">
                            {{ post.titulo }}
                        </a> — {{ post.fecha_creacion }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No se encontraron resultados para "{{ query }}"</p>
        {% endif %}
    {% endif %}
{% endblock %}
